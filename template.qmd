---
title: "kr_typst_template 사용 가이드 2"
subtitle: "한국어 쿼토 보고서 템플릿 - 튜토리얼"
author: "Korea R User Group"
cover-date: "2026년 1월 29일"
format:
  kr_typst_template-typst:
    lang: ko-KR
    mainfont: Pretendard
    fontsize: 11pt
    papersize: a4
    font-paths:
      - _extensions/kr_typst_template/resources/fonts
    toc: true
    toc-depth: 3
    number-sections: true
    margin:
      x: 2cm
      y: 2cm
---

```{r}
#| include: false
# ⚠️ 필수: 이 setup chunk는 반드시 포함해야 합니다
# kr_typst_template의 테마, 폰트, 함수를 로드합니다
source("_extensions/kr_typst_template/resources/R/setup.R")
```

# 소개

이 문서는 `kr_typst_template`의 **사용법 가이드**이자 **작업 템플릿**입니다. 이 파일을 복사하여 자신의 보고서를 작성하세요.

::: {.callout-warning}
## 필수 Setup Chunk

모든 문서는 **반드시 시작 부분에 setup chunk**를 포함해야 합니다:

```{{r}}
#| include: false
source("_extensions/kr_typst_template/resources/R/setup.R")
```

이 코드는 다음을 자동으로 설정합니다:

- `theme_tufte_kr()` - ggplot2 기본 테마

- `gt_theme_tufte()` - GT 테이블 테마 함수

- Pretendard 폰트 등록 (한글 차트용)

- tidyverse, gt, scales 등 필수 패키지 로드
:::

# 기본 설정

## YAML 헤더

문서 상단의 YAML에서 기본 설정:

```yaml
---
title: "보고서 제목"
subtitle: "부제목"
author: "작성자"
cover-date: "2026년 1월 29일"
format:
  kr_typst_template-typst:
    lang: ko-KR
    mainfont: Pretendard
    toc: true
    number-sections: true
---

```{r}
#| include: false
source("_extensions/kr_typst_template/resources/R/setup.R")
```
```

# 표지 커스터마이징

## 기본 표지

```typst
#tufte_cover(
  title: "제목",
  subtitle: "부제목",
  author: "저자",  // 선택
  date: "날짜",
  logo: image("logo.svg", width: 60pt),
  accent_color: rgb("#1a5490"),
)
```

## 색상 옵션

- 파랑 (기본): `rgb("#1a5490")`
- 빨강: `rgb("#e74c3c")`
- 초록: `rgb("#27ae60")`

# 차트 작성

## 기본 차트

`theme_tufte_kr()` 자동 적용:

```{r}
#| label: fig-example
#| fig-cap: "예시 차트"

library(tidyverse)

data <- tibble(x = 1:10, y = rnorm(10, 100, 15))

ggplot(data, aes(x, y)) +
  geom_line(color = "#1a5490") +
  labs(title = "차트 제목")
```

@fig-example 참조.

# 테이블 작성

## GT 테이블

`gt_theme_tufte()` 자동 적용:

```{r}
#| label: tbl-example
#| tbl-cap: "예시 테이블"

tibble(
  항목 = c("A", "B", "C"),
  값 = c(100, 200, 300)
) %>%
  gt() %>%
  gt_theme_tufte()
```

@tbl-example 참조.

# Callout 박스

::: {.callout-note}
## 참고
일반 정보
:::

::: {.callout-tip}
## 팁
중요 인사이트
:::

::: {.callout-warning}
## 주의
주의사항
:::

# 여러 장 통합

## include 사용

```markdown
{{{< include chapter1.qmd >}}}
{{{< include chapter2.qmd >}}}
```

## Book 프로젝트

**_quarto.yml:**
```yaml
project:
  type: book
book:
  chapters:
    - index.qmd
    - ch1.qmd
format:
  kr_typst_template-typst:
    toc: true
```

# 고급 설정

## 마진 조정

```yaml
margin:
  x: 3cm
  y: 2.5cm
```

## 폰트 변경

```yaml
mainfont: "Noto Sans KR"
font-paths:
  - /path/to/fonts
```

# 실전 예시

아래는 실제 보고서 작성 예시입니다.

## 데이터 분석

```{r}
#| label: fig-sales
#| fig-cap: "월별 매출"
#| echo: true

sales <- tibble(
  month = 1:12,
  value = c(120, 135, 150, 142, 168, 175,
            190, 185, 200, 215, 230, 245)
)

ggplot(sales, aes(month, value)) +
  geom_line(color = "#1a5490", linewidth = 1.2) +
  geom_point(color = "#1a5490", size = 3) +
  scale_y_continuous(labels = scales::label_comma(suffix = "억")) +
  labs(title = "월별 매출 추이", x = "월", y = "매출")
```

## 성과 지표

```{r}
#| label: tbl-kpi
#| tbl-cap: "주요 KPI"

tibble(
  지표 = c("매출", "이익", "점유율"),
  목표 = c("2,000억", "200억", "15%"),
  실적 = c("2,130억", "225억", "16.5%")
) %>%
  gt() %>%
  gt_theme_tufte() %>%
  tab_header(title = "2026년 성과")
```

::: {.callout-tip}
## 핵심
모든 지표 **110% 초과 달성**
:::

# 문제 해결

## GT 테이블 폰트 경고 (정상)

렌더링 시 `warning: unknown font family` 경고가 표시될 수 있습니다.

**이는 정상입니다:**

- Quarto의 GT→Typst 변환 과정에서 발생
- PDF는 정상 생성됨
- 경고 무시 가능

자세한 내용은 README.md의 "알려진 이슈" 참고

## 폰트 오류 (실제 문제)

Pretendard 폰트가 로드되지 않는 경우:

- `font-paths` 경로 확인
- 폰트 파일 존재 여부 확인

## 표지 미표시

커버 페이지가 나타나지 않는 경우:

- `template.typ`의 import 경로 확인
- `cover.typ` 파일 존재 확인

## 한글 깨짐

한글이 제대로 표시되지 않는 경우:

- YAML에 `lang: ko-KR` 설정 확인
- Pretendard 폰트 경로 확인

# 부록

## 필요 패키지

```r
install.packages(c(
  "tidyverse", "gt", "scales", "ggthemes"
))
```

## 스타일

| 요소 | 크기 | 색상 |
|------|------|------|
| H1 | 18pt | #1a5490 |
| H2 | 14pt | #2c3e50 |
| 본문 | 11pt | black |

---

**이 파일을 복사하여 보고서를 작성하세요!**

MIT License - Korea R User Group
